import{a as t,u as c}from"./index-BLrlVPPS.js";const n={async getAll(e=50,r=0){console.log("ProductService: Fetching products...");try{const{data:o}=await t.get(`products?limit=${e}&skip=${r}`);console.log("ProductService: Received data:",o);const d=Array.isArray(o)?o:[];return console.log("ProductService: Processing products:",d.length),c.getState().setProducts(d),d}catch(o){throw console.error("ProductService: Error fetching products:",o),c.getState().setError("Не вдалося отримати список продуктів: "+o.message),new Error("Не вдалося отримати список продуктів: "+o.message)}},async getById(e){console.log("ProductService: Fetching product by ID:",e);try{const{data:r}=await t.get(`products/${e}`);return console.log("ProductService: Received product:",r),r}catch(r){throw console.error("ProductService: Error fetching product:",r),new Error("Не вдалося отримати продукт: "+r.message)}},async addProduct(e){console.log("ProductService: Adding product:",e);try{const{data:r}=await t.post("products",e);return console.log("ProductService: Product added:",r),c.getState().addProduct(r),r}catch(r){throw console.error("ProductService: Error adding product:",r),new Error("Не вдалося додати продукт: "+r.message)}},async updateProduct(e,r){console.log("ProductService: Updating product:",e,r);try{const{data:o}=await t.patch(`products/${e}`,r);return console.log("ProductService: Product updated:",o),c.getState().updateProduct(o),o}catch(o){throw console.error("ProductService: Error updating product:",o),new Error("Не вдалося оновити продукт: "+o.message)}},async deleteProduct(e){console.log("ProductService: Deleting product:",e);try{await t.delete(`products/${e}`),console.log("ProductService: Product deleted:",e),c.getState().removeProduct(e)}catch(r){throw console.error("ProductService: Error deleting product:",r),new Error("Не вдалося видалити продукт: "+r.message)}},async testConnection(){try{return await t.get("products?limit=1"),console.log("ProductService: Connection test successful"),!0}catch(e){return console.error("ProductService: Connection test failed:",e),!1}}};export{n as productService};
